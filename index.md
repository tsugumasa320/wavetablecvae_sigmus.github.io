# Wavetable合成の為のアトリビュート操作型CVAEエフェクターの初期検討

## 湯谷 承将, 山本 雄也, 中谷 秀洋, 寺澤 洋子

このWebサイトは、第136回音楽情報科学研究発表会 デモ・萌芽・議論セッションで発表の
“Wavetable合成の為のアトリビュート操作型CVAEエフェクターの初期検討”についてです。

### 目次

- [序論](#序論)
- [前提知識](#前提知識)
- [提案手法](#提案手法)
- [結果](#結果)
- [まとめ](#まとめ)
- [今後の展望](#今後の展望)
- [謝辞](#謝辞)
- [関連文献](#関連文献)

### 序論

#### 目的
  - 深層生成モデルによるデータ・ドリブンなオーディオ・エフェクトの創出

#### 背景
  - オーディオ・エフェクトは様々なメディアや音楽制作で重要な役割を果たしている
  - 深層生成モデルによって、アトリビュートに基づいた新しいエフェクトが作れないか？
  <!-- オーディオ・エフェクトの図と新しいエフェクトの図を作る？ -->
  - 最も基本的な音生成方式であるウェーブテーブル合成を、CVAEを用いてアップデートする
    - 知覚に基づいたアトリビュートラベルを音響特長量から算出
    - オシレーターに使用するウェーブテーブルを上記ラベルで条件付け生成
    (図を作る)
　

### 前提知識
  
#### ウェーブテーブル合成
  - 任意の波形1周期分の情報を保存(以下、ウェーブテーブル)
  - ウェーブテーブルの繰り返し速度を変える事でオシレーターとして任意の音高を出力する
  - デジタル音響合成の基礎となる技術であり、多くのシンセサイザーで用いられる

##### 参考動画
<iframe width="560" height="315" src="https://www.youtube.com/embed/k81hoZODOP0?start=17" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
  
#### CVAE(Conditional Variational Autoencoder)
  - Encoder-Decoderネットワークに基づいた、確率的生成モデルの一種
  - 入力データに対して条件付きで生成を行うことが可能
  <!-- 図を作る? -->
 
### 提案手法
  
#### アトリビュートラベルの算出
  - ウェーブテーブルの分析は、静的音色について表される音響特徴量を用いる必要がある。
  - Kreković[^1]は、brightness, richness, fullnessの３種類のアトリビュートラベルを音響特長量から計算
  - 上記と同様の手法を用いて、条件付けに使用するラベルを算出

#### データセット
  - Adventure Kid Research & Technology[^2]が提供しているモノラルのウェーブテーブル(Single Cycle Waveform)4158件を使用
  <!-- 図を作る? -->

#### モデル構成
  - 波形の時間依存性を捉えるために、 畳み込みとアップサンプリングを行うモデルを設計
  - Encoder-Decoderの全層に条件付けを実施
  <!-- 図を作る? -->

#### 損失関数
  - 音響信号の特徴と波形は一意に対応するものでなく、位相が異なっていても同様のスペクトルを得る事がある
  - 特徴を正確に捉える為にSTFTによって、スペクトルを計算
  - スペクトルの分解能を上げる為に、6つ分のウェーブテーブルを連結し、(引用入れる)スペクトル距離を用いて損失とする

$$ S(x,y) =  \frac{||STFT(x) - STFT(y)||_F}{||STFT(x)||_F} + log(||STFT(x) -STFT(y)||_1) $$
 
STFTはShort Term Fourier Transformのことであり、 $\|\|・\|\|_F$ , $\|\|・\|\|_1$ はそれぞれフロべニウスノルム、L1ノルムである。
    
### 結果

#### 再構成品質
  - テストデータにおいて、再構成品質と条件付け生成の結果を確認
    (波形とスペクトラムの画像を表示)
    (単音と曲の音声も載せる)

  - 各ラベルにおける条件付けの結果を示す
    (画像)

### まとめ

#### 結論
  - Cウェーブテーブル合成における新しいエフェクトの可能性を示した
    - CVAEを用いたウェーブテーブルの再構成と条件付けにおいて、検証は不十分ではあるが一定の成果を得た

#### 今後の展望
  - 更なる再構成品質向上を可能にするモデル構成
  - 新しいエフェクト創出の為の、ラベル抽出手法の探索

### 謝辞
 This work was supported by Cybozu Labs youth.

### 関連文献
